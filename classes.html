<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Learning Kids - Classes</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">
  <!-- Header -->
  <header class="bg-blue-600 text-white shadow-md fixed top-0 left-0 w-full z-50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold">Smart Learning Kids</h1>
      <a href="index.html" class="bg-white text-blue-600 px-4 py-2 rounded-lg font-medium shadow hover:bg-blue-100 transition">Home</a>
    </div>
  </header>

  <!-- Content -->
  <main class="pt-24 max-w-4xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-8">Select Your Class</h2>

    <div id="accordion" class="space-y-4"></div>
  </main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("classes-container");

  // Academic term unlock dates
  const termUnlockDates = {
    2: new Date("2026-01-04"), // 2nd term unlocks Jan 4, 2026
    3: new Date("2026-04-20")  // 3rd term unlocks Apr 20, 2026
  };

  // Get today's date
  const today = new Date();

  // Fetch JSON file
  fetch("data/classes.json")
    .then(response => response.json())
    .then(data => {
      data.classes.forEach(cls => {
        // Class wrapper
        const classDiv = document.createElement("div");
        classDiv.classList.add("class-block");

        const classTitle = document.createElement("h2");
        classTitle.textContent = cls.name;
        classDiv.appendChild(classTitle);

        // Loop terms
        cls.terms.forEach(term => {
          const termDiv = document.createElement("div");
          termDiv.classList.add("term-block");

          const termTitle = document.createElement("h3");
          termTitle.textContent = term.title;
          termDiv.appendChild(termTitle);

          // Unlock check
          if (term.number === 1 || today >= termUnlockDates[term.number]) {
            // Loop categories (keyboard, mouse, coding etc.)
            term.categories.forEach(cat => {
              const catDiv = document.createElement("div");
              catDiv.classList.add("category-block");

              const catTitle = document.createElement("h4");
              catTitle.textContent = cat.name;
              catDiv.appendChild(catTitle);

              const topicsList = document.createElement("ul");
              cat.topics.forEach(topic => {
                const li = document.createElement("li");
                li.textContent = topic;
                topicsList.appendChild(li);
              });
              catDiv.appendChild(topicsList);

              termDiv.appendChild(catDiv);
            });
          } else {
            // Locked message
            const lockedMsg = document.createElement("p");
            lockedMsg.textContent = `Locked until ${termUnlockDates[term.number].toDateString()}`;
            termDiv.appendChild(lockedMsg);
            termDiv.classList.add("locked");
          }

          classDiv.appendChild(termDiv);
        });

        container.appendChild(classDiv);
      });
    })
    .catch(err => {
      console.error("Error loading JSON:", err);
      container.textContent = "Failed to load class data.";
    });
});
</script>

</body>
</html>
